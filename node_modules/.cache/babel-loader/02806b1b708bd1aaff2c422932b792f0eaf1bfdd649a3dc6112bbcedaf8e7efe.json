{"ast":null,"code":"var _jsxFileName = \"/Users/cesarvargastapia/CascadeProjects/study-planner/src/components/DayView.js\";\nimport React from 'react';\nimport Activity from './Activity';\nimport { parseISO, addDays, startOfDay } from 'date-fns'; // Importar funciones necesarias\n\n// Returns the ISO 8601 week number for the given date\n// Based on https://weeknumber.com/how-to/javascript\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const getWeekNumber = date => {\n  // Create a copy of the date to avoid modifying the original\n  const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n  // Set to the nearest Thursday (current date + 4 - current day number)\n  // Make Sunday's day number 7 instead of 0\n  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));\n  // Get the first day of the year\n  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n  // Calculate the week number: 1 + (days since year start / 7)\n  const weekNo = Math.ceil(((d - yearStart) / 86400000 + 1) / 7);\n  return weekNo;\n};\nconst DayView = ({\n  day,\n  dayNumber,\n  activities,\n  onToggle,\n  onDayClick,\n  isToday = false,\n  today\n}) => {\n  // Calcular si el día es anterior al día actual\n  const isPast = () => {\n    try {\n      const todayDate = startOfDay(today);\n      const dayDate = new Date(today);\n      dayDate.setDate(dayDate.getDate() - (today.getDay() - (['lunes', 'martes', 'miercoles', 'jueves', 'viernes', 'sabado', 'domingo'].indexOf(day) + 1)));\n      return startOfDay(dayDate) < todayDate;\n    } catch (error) {\n      console.error('Error calculando fecha:', error);\n      return false;\n    }\n  };\n  const handleDayClick = e => {\n    // Only trigger day click if the click is on the day header or empty space\n    if (e.target.closest('.day-view > h3') || e.target === e.currentTarget) {\n      onDayClick();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `day-view ${isToday ? 'today' : ''} ${isPast() ? 'past-day' : ''}`,\n    onClick: handleDayClick,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [day, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"day-number\",\n        children: dayNumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"activities-container\",\n      onClick: e => e.stopPropagation(),\n      children: activities.map(activity => /*#__PURE__*/_jsxDEV(Activity, {\n        activity: activity,\n        onToggle: onToggle\n      }, activity.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_c = DayView;\nexport default DayView;\nvar _c;\n$RefreshReg$(_c, \"DayView\");","map":{"version":3,"names":["React","Activity","parseISO","addDays","startOfDay","jsxDEV","_jsxDEV","getWeekNumber","date","d","Date","UTC","getFullYear","getMonth","getDate","setUTCDate","getUTCDate","getUTCDay","yearStart","getUTCFullYear","weekNo","Math","ceil","DayView","day","dayNumber","activities","onToggle","onDayClick","isToday","today","isPast","todayDate","dayDate","setDate","getDay","indexOf","error","console","handleDayClick","e","target","closest","currentTarget","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","stopPropagation","map","activity","id","_c","$RefreshReg$"],"sources":["/Users/cesarvargastapia/CascadeProjects/study-planner/src/components/DayView.js"],"sourcesContent":["import React from 'react';\nimport Activity from './Activity';\nimport { parseISO, addDays, startOfDay } from 'date-fns'; // Importar funciones necesarias\n\n// Returns the ISO 8601 week number for the given date\n// Based on https://weeknumber.com/how-to/javascript\nexport const getWeekNumber = (date) => {\n  // Create a copy of the date to avoid modifying the original\n  const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n  // Set to the nearest Thursday (current date + 4 - current day number)\n  // Make Sunday's day number 7 instead of 0\n  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));\n  // Get the first day of the year\n  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n  // Calculate the week number: 1 + (days since year start / 7)\n  const weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);\n  return weekNo;\n};\n\nconst DayView = ({ day, dayNumber, activities, onToggle, onDayClick, isToday = false, today }) => {\n  // Calcular si el día es anterior al día actual\n  const isPast = () => {\n    try {\n      const todayDate = startOfDay(today);\n      const dayDate = new Date(today);\n      dayDate.setDate(dayDate.getDate() - (today.getDay() - (['lunes','martes','miercoles','jueves','viernes','sabado','domingo'].indexOf(day) + 1)));\n      \n      return startOfDay(dayDate) < todayDate;\n    } catch (error) {\n      console.error('Error calculando fecha:', error);\n      return false;\n    }\n  };\n\n  const handleDayClick = (e) => {\n    // Only trigger day click if the click is on the day header or empty space\n    if (e.target.closest('.day-view > h3') || e.target === e.currentTarget) {\n      onDayClick();\n    }\n  };\n\n  return (\n    <div className={`day-view ${isToday ? 'today' : ''} ${isPast() ? 'past-day' : ''}`} onClick={handleDayClick}>\n      <h3>{day} <span className=\"day-number\">{dayNumber}</span></h3>\n      <div className=\"activities-container\" onClick={(e) => e.stopPropagation()}>\n        {activities.map(activity => (\n          <Activity \n            key={activity.id} \n            activity={activity} \n            onToggle={onToggle} \n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default DayView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}